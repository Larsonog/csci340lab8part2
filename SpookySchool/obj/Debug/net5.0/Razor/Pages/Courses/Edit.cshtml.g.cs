#pragma checksum "C:\Users\mango\Desktop\csci340lab8part2\SpookySchool\Pages\Courses\Edit.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6ae8011a272d4887a319578e8f0690d07ec68a61"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(SpookySchool.Pages.Courses.Pages_Courses_Edit), @"mvc.1.0.view", @"/Pages/Courses/Edit.cshtml")]
namespace SpookySchool.Pages.Courses
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\mango\Desktop\csci340lab8part2\SpookySchool\Pages\_ViewImports.cshtml"
using SpookySchool;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"6ae8011a272d4887a319578e8f0690d07ec68a61", @"/Pages/Courses/Edit.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d222843454dd79e1ffbd4e94a94504220958a483", @"/Pages/_ViewImports.cshtml")]
    public class Pages_Courses_Edit : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"using SpookySchool.Models;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using System.Threading.Tasks;

namespace SpookySchool.Pages.Courses
{
    public class EditModel : DepartmentNamePageModel
    {
        private readonly SpookySchool.Data.SchoolContext _context;

        public EditModel(SpookySchool.Data.SchoolContext context)
        {
            _context = context;
        }

        [BindProperty]
        public Course Course { get; set; }

        public async Task<IActionResult>
    OnGetAsync(int? id)
    {
    if (id == null)
    {
    return NotFound();
    }

    Course = await _context.Courses
    .Include(c => c.Department).FirstOrDefaultAsync(m => m.CourseID == id);

    if (Course == null)
    {
    return NotFound();
    }

    // Select current DepartmentID.
    PopulateDepartmentsDropDownList(_context, Course.DepartmentID);
    return Page();
    }

    public async Task<IActionResult>
        OnPostAsync(int? id)
       ");
            WriteLiteral(@" {
        if (id == null)
        {
        return NotFound();
        }

        var courseToUpdate = await _context.Courses.FindAsync(id);

        if (courseToUpdate == null)
        {
        return NotFound();
        }

        if (await TryUpdateModelAsync<Course>
            (
            courseToUpdate,
            ""course"",   // Prefix for form value.
            c => c.Credits, c => c.DepartmentID, c => c.Title))
            {
            await _context.SaveChangesAsync();
            return RedirectToPage(""./Index"");
            }

            // Select DepartmentID if TryUpdateModelAsync fails.
            PopulateDepartmentsDropDownList(_context, courseToUpdate.DepartmentID);
            return Page();
            }
            }
            }
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
